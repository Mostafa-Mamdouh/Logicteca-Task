(self.webpackChunkclient_app=self.webpackChunkclient_app||[]).push([[322],{2051:function(e,t){var n,o;void 0===(o="function"==typeof(n=function(){"use strict";function t(e,t,n){var o=new XMLHttpRequest;o.open("GET",e),o.responseType="blob",o.onload=function(){i(o.response,t,n)},o.onerror=function(){console.error("could not download file")},o.send()}function n(e){var t=new XMLHttpRequest;t.open("HEAD",e,!1);try{t.send()}catch(e){}return 200<=t.status&&299>=t.status}function o(e){try{e.dispatchEvent(new MouseEvent("click"))}catch(t){var n=document.createEvent("MouseEvents");n.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),e.dispatchEvent(n)}}var a="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,r=a.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),i=a.saveAs||("object"!=typeof window||window!==a?function(){}:"download"in HTMLAnchorElement.prototype&&!r?function(e,r,i){var s=a.URL||a.webkitURL,p=document.createElement("a");p.download=r=r||e.name||"download",p.rel="noopener","string"==typeof e?(p.href=e,p.origin===location.origin?o(p):n(p.href)?t(e,r,i):o(p,p.target="_blank")):(p.href=s.createObjectURL(e),setTimeout(function(){s.revokeObjectURL(p.href)},4e4),setTimeout(function(){o(p)},0))}:"msSaveOrOpenBlob"in navigator?function(e,a,r){if(a=a||e.name||"download","string"!=typeof e)navigator.msSaveOrOpenBlob(function(e,t){return void 0===t?t={autoBom:!1}:"object"!=typeof t&&(console.warn("Deprecated: Expected third argument to be a object"),t={autoBom:!t}),t.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(e.type)?new Blob(["\ufeff",e],{type:e.type}):e}(e,r),a);else if(n(e))t(e,a,r);else{var i=document.createElement("a");i.href=e,i.target="_blank",setTimeout(function(){o(i)})}}:function(e,n,o,i){if((i=i||open("","_blank"))&&(i.document.title=i.document.body.innerText="downloading..."),"string"==typeof e)return t(e,n,o);var s="application/octet-stream"===e.type,p=/constructor/i.test(a.HTMLElement)||a.safari,c=/CriOS\/[\d]+/.test(navigator.userAgent);if((c||s&&p||r)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var e=l.result;e=c?e:e.replace(/^data:[^;]*;/,"data:attachment/file;"),i?i.location.href=e:location=e,i=null},l.readAsDataURL(e)}else{var u=a.URL||a.webkitURL,g=u.createObjectURL(e);i?i.location=g:location.href=g,i=null,setTimeout(function(){u.revokeObjectURL(g)},4e4)}});a.saveAs=i.saveAs=i,e.exports=i})?n.apply(t,[]):n)||(e.exports=o)},322:(e,t,n)=>{"use strict";n.r(t),n.d(t,{InventoryModule:()=>N});var o=n(1116),a=n(4532),r=n(6556),i=n(2051);class s{constructor(){this.pageNumber=1,this.pageSize=10,this.search=""}}var p=n(7368),c=n(2693),l=n(9996);class u{constructor(){this.pageIndex=1,this.pageSize=10,this.count=10,this.data=[]}}var g=n(529);let d=(()=>{class e{constructor(e){this.http=e,this.baseUrl=g.N.apiUrl,this.pagination=new u}getInventory(e){let t=new c.LE;return e.search&&(t=t.append("search",e.search)),t=t.append("pageIndex",e.pageNumber.toString()),t=t.append("pageSize",e.pageSize.toString()),this.http.get(this.baseUrl+"product",{observe:"response",params:t}).pipe((0,l.U)(e=>(this.pagination=null!=e.body?e.body:this.pagination,this.pagination)))}exportInventory(e){let t=new c.LE;return e.search&&(t=t.append("search",e.search)),this.http.get(this.baseUrl+"product/export",{responseType:"blob",params:t}).pipe()}}return e.\u0275fac=function(t){return new(t||e)(p.LFG(c.eN))},e.\u0275prov=p.Yz7({token:e,factory:e.\u0275fac,providedIn:"root"}),e})();var h=n(7303),m=n(4369),f=n(3070),Z=n(7112),v=n(5740);function b(e,t){if(1&e&&(p.TgZ(0,"div",4),p._uU(1),p.qZA()),2&e){const e=p.oxw();p.xp6(1),p.hij(" ",e.message,"\n")}}let y=(()=>{class e{constructor(e,t){this.http=e,this.toastr=t,this.baseUrl=g.N.apiUrl,this.onFileUploaded=new p.vpe,this.progress=0,this.message="",this.fileName="Select File"}ngOnInit(){}uploadService(e){const t=new FormData;t.append("file",e);const n=new c.aW("POST",`${this.baseUrl}Product/SaveBulkData`,t,{reportProgress:!0,responseType:"json"});return this.http.request(n)}selectFile(e){e.target.files&&e.target.files[0]?(this.currentFile=e.target.files[0],this.fileName=this.currentFile.name):this.fileName="Upload"}upload(){this.progress=0,this.message="",this.currentFile&&this.uploadService(this.currentFile).subscribe(e=>{e.ok&&(this.progress=Math.round(100*e.loaded/e.total),this.docUpload(e.ok))},e=>{console.log(e),this.progress=0,this.message=e.error&&e.error.message?e.error.message:"Could not upload the file!",this.currentFile=void 0})}docUpload(e){this.onFileUploaded.emit(e),console.log("ApiResponse -> docUpload -> Event: ",e)}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(c.eN),p.Y36(h._W))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-upload-file"]],outputs:{onFileUploaded:"onFileUploaded"},decls:11,vars:3,consts:[["mat-flat-button","","color","primary",3,"disabled","click"],["matInput","",3,"value"],["type","file","id","fileInput","name","fileInput",1,"mr-5",3,"change"],["class","message",4,"ngIf"],[1,"message"]],template:function(e,t){1&e&&(p.TgZ(0,"div"),p.TgZ(1,"button",0),p.NdJ("click",function(){return t.upload()}),p._uU(2," Import File\n"),p.qZA(),p.TgZ(3,"mat-form-field"),p.TgZ(4,"div"),p.TgZ(5,"mat-toolbar"),p._UZ(6,"input",1),p.qZA(),p.qZA(),p.TgZ(7,"div"),p.TgZ(8,"input",2),p.NdJ("change",function(e){return t.selectFile(e)}),p.qZA(),p.qZA(),p._UZ(9,"div"),p.qZA(),p.qZA(),p.YNc(10,b,2,1,"div",3)),2&e&&(p.xp6(1),p.Q6J("disabled",!t.currentFile),p.xp6(5),p.Q6J("value",t.fileName),p.xp6(4),p.Q6J("ngIf",t.message))},directives:[m.lW,f.KE,Z.Ye,v.Nt,o.O5],styles:[".progress-bar[_ngcontent-%COMP%]{padding:0}.progress[_ngcontent-%COMP%]{width:50px}#fileInput[_ngcontent-%COMP%]{position:absolute;cursor:pointer;z-index:10;opacity:0;height:100%;left:0;top:0}.mat-toolbar-single-row[_ngcontent-%COMP%]{height:auto!important;background:#0000;padding:0}.mat-toolbar-single-row[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100px}.mat-form-field[_ngcontent-%COMP%]{width:100%}.message[_ngcontent-%COMP%]{background-color:#ddd;padding:15px;color:#333;border:1px solid #aaa;border-radius:4px;margin-bottom:10px}"]}),e})(),A=(()=>{class e{constructor(){this.pageChanged=new p.vpe}ngOnInit(){}onPagerChanged(e){this.pageChanged.emit(e.page)}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-pager"]],inputs:{totalCount:"totalCount",pageSize:"pageSize"},outputs:{pageChanged:"pageChanged"},decls:1,vars:4,consts:[[3,"boundaryLinks","totalItems","itemsPerPage","maxSize","pageChanged"]],template:function(e,t){1&e&&(p.TgZ(0,"pagination",0),p.NdJ("pageChanged",function(e){return t.onPagerChanged(e)}),p.qZA()),2&e&&p.Q6J("boundaryLinks",!0)("totalItems",t.totalCount)("itemsPerPage",t.pageSize)("maxSize",10)},directives:[a.Qt],styles:[""]}),e})();function T(e,t){if(1&e&&(p.TgZ(0,"span"),p._uU(1,"Showing "),p.TgZ(2,"strong"),p._uU(3),p.qZA(),p._uU(4," of "),p.TgZ(5,"strong"),p._uU(6),p.qZA(),p.qZA()),2&e){const e=p.oxw();p.xp6(3),p.AsE(" ",(e.pageNumber-1)*e.pageSize+1," - ",e.pageNumber*e.pageSize>e.totalCount?e.totalCount:e.pageNumber*e.pageSize," "),p.xp6(3),p.hij("",e.totalCount," Results")}}function w(e,t){1&e&&(p.TgZ(0,"span"),p._uU(1," There are "),p.TgZ(2,"strong"),p._uU(3,"0"),p.qZA(),p._uU(4," results for this filter "),p.qZA())}let q=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-paging-header"]],inputs:{pageNumber:"pageNumber",pageSize:"pageSize",totalCount:"totalCount"},decls:3,vars:2,consts:[[4,"ngIf"]],template:function(e,t){1&e&&(p.TgZ(0,"header"),p.YNc(1,T,7,3,"span",0),p.YNc(2,w,5,0,"span",0),p.qZA()),2&e&&(p.xp6(1),p.Q6J("ngIf",t.totalCount&&t.totalCount>0),p.xp6(1),p.Q6J("ngIf",0==t.totalCount))},directives:[o.O5],styles:[""]}),e})();const x=["search"];function U(e,t){if(1&e){const e=p.EpF();p.TgZ(0,"input",26,27),p.NdJ("keyup",function(){return p.CHM(e),p.oxw().onSearch()}),p.qZA()}}function _(e,t){if(1&e&&(p.TgZ(0,"tr"),p.TgZ(1,"td"),p._uU(2),p.qZA(),p.TgZ(3,"td"),p._uU(4),p.qZA(),p.TgZ(5,"td"),p._uU(6),p.qZA(),p.TgZ(7,"td"),p._uU(8),p.qZA(),p.TgZ(9,"td"),p._uU(10),p.qZA(),p.TgZ(11,"td"),p._uU(12),p.ALo(13,"currency"),p.qZA(),p.TgZ(14,"td"),p._uU(15),p.ALo(16,"percent"),p.qZA(),p.TgZ(17,"td"),p._uU(18),p.ALo(19,"currency"),p.qZA(),p.qZA()),2&e){const e=t.$implicit;p.xp6(2),p.hij(" ",e.partSKU," "),p.xp6(2),p.Oqu(e.band),p.xp6(2),p.Oqu(e.categoryCode),p.xp6(2),p.Oqu(e.manufacturer),p.xp6(2),p.Oqu(e.itemDescription),p.xp6(2),p.Oqu(p.lcZ(13,8,e.listPrice)),p.xp6(3),p.Oqu(p.lcZ(16,10,e.minimumDiscount)),p.xp6(3),p.Oqu(p.lcZ(19,12,e.discountedPrice))}}const C=[{path:"",component:(()=>{class e{constructor(e,t,n,o){this.inventoryService=e,this.router=t,this.toastr=n,this.activatedroute=o,this.totalItems=64,this.inventoryParams=new s,this.exportParams=new s,this.products=[]}reloadCurrentPage(){setTimeout(function(){window.location.reload()},3e3)}ngOnInit(){this.getInventory()}uploadFile(e){this.toastr.success("File Imported Successfully","Success"),this.reloadCurrentPage()}getInventory(){this.inventoryService.getInventory(this.inventoryParams).subscribe(e=>{this.products=e.data,this.inventoryParams.pageNumber=e.pageIndex,this.inventoryParams.pageSize=e.pageSize,this.totalCount=e.count},e=>{console.log(e)})}onPageChanged(e){this.inventoryParams.pageNumber!==e&&(this.inventoryParams.pageNumber=e,this.getInventory())}onSearch(){this.inventoryParams.search=null!=this.searchTerm?this.searchTerm.nativeElement.value:"",this.inventoryParams.pageNumber=1,this.getInventory()}onFilter(){this.inventoryParams.pageNumber=1,this.getInventory()}Export(){this.exportParams.pageNumber=1,this.exportParams.pageSize=1e6,this.inventoryService.exportInventory(this.inventoryParams).subscribe(e=>{var t="Cisco_Products_list_"+Date.now();i.saveAs(e,t)},e=>{console.log("Unable to export file")})}}return e.\u0275fac=function(t){return new(t||e)(p.Y36(d),p.Y36(r.F0),p.Y36(h._W),p.Y36(r.gz))},e.\u0275cmp=p.Xpm({type:e,selectors:[["app-inventory"]],viewQuery:function(e,t){if(1&e&&p.Gf(x,5),2&e){let e;p.iGM(e=p.CRH())&&(t.searchTerm=e.first)}},decls:51,vars:7,consts:[[1,"Shadowbox","p-3"],["id","page-wrapper",1,""],[1,"container-fluid"],[1,"row","row-stat"],[1,"col-sm-12"],[1,"row"],[1,"col-md-12"],[1,"panel","panel-default","panel-flat"],[1,"panel-body"],[1,"panel-heading","panel-heading-no-divider"],[1,"table-responsive"],[1,"col-md-12","form-inline","md-form","form-sm","mt-1"],[1,"row","g-4","md-form"],[1,"col-auto"],["aria-hidden","true",1,"fa","fa-search","active"],["class","form-control searchbox form-control-sm ml-3 w-75","type","text","placeholder","Search","aria-label","Search",3,"keyup",4,"ngIf"],[1,"btn","btn-primary",3,"click"],["aria-hidden","true",1,"fa","fa-file-export"],[3,"onFileUploaded"],[1,"table"],[4,"ngFor","ngForOf"],[1,"d-flex","justify-content-between","mt-2"],[1,"xs-mb-50","xs-mt-40","pull-right"],[3,"pageSize","totalCount","pageChanged"],[1,"xs-mb-50","xs-mt-40","pull-left"],[3,"pageNumber","pageSize","totalCount"],["type","text","placeholder","Search","aria-label","Search",1,"form-control","searchbox","form-control-sm","ml-3","w-75",3,"keyup"],["search",""]],template:function(e,t){if(1&e&&(p.TgZ(0,"section",0),p.TgZ(1,"div",1),p.TgZ(2,"div",2),p.TgZ(3,"div",3),p.TgZ(4,"div",4),p.TgZ(5,"div",5),p.TgZ(6,"div",6),p.TgZ(7,"div",7),p.TgZ(8,"div",8),p._UZ(9,"div",9),p.TgZ(10,"div",10),p.TgZ(11,"div",11),p.TgZ(12,"div",12),p.TgZ(13,"div",13),p._UZ(14,"i",14),p.YNc(15,U,2,0,"input",15),p.qZA(),p._UZ(16,"div",13),p._UZ(17,"div",13),p.TgZ(18,"div",13),p.TgZ(19,"button",16),p.NdJ("click",function(){return t.Export()}),p._UZ(20,"i",17),p._uU(21," Export "),p.qZA(),p.qZA(),p.TgZ(22,"div",13),p.TgZ(23,"app-upload-file",18),p.NdJ("onFileUploaded",function(e){return t.uploadFile(e)}),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p._UZ(24,"br"),p.TgZ(25,"table",19),p.TgZ(26,"thead"),p.TgZ(27,"tr"),p.TgZ(28,"th"),p._uU(29,"Part SKU"),p.qZA(),p.TgZ(30,"th"),p._uU(31,"Band"),p.qZA(),p.TgZ(32,"th"),p._uU(33,"Category Code"),p.qZA(),p.TgZ(34,"th"),p._uU(35,"Manufacturer"),p.qZA(),p.TgZ(36,"th"),p._uU(37,"Item Description"),p.qZA(),p.TgZ(38,"th"),p._uU(39,"List Price"),p.qZA(),p.TgZ(40,"th"),p._uU(41,"Minimum Discount"),p.qZA(),p.TgZ(42,"th"),p._uU(43,"Discounted Price"),p.qZA(),p.qZA(),p.qZA(),p.TgZ(44,"tbody"),p.YNc(45,_,20,14,"tr",20),p.qZA(),p.qZA(),p.qZA(),p.TgZ(46,"div",21),p.TgZ(47,"div",22),p.TgZ(48,"app-pager",23),p.NdJ("pageChanged",function(e){return t.onPageChanged(e)}),p.qZA(),p.qZA(),p.TgZ(49,"div",24),p._UZ(50,"app-paging-header",25),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA(),p.qZA()),2&e){let e,n;p.xp6(15),p.Q6J("ngIf",t.products),p.xp6(30),p.Q6J("ngForOf",t.products),p.xp6(3),p.Q6J("pageSize",t.inventoryParams.pageSize)("totalCount",null!==(e=t.totalCount)&&void 0!==e?e:0),p.xp6(2),p.Q6J("pageNumber",t.inventoryParams.pageNumber)("pageSize",t.inventoryParams.pageSize)("totalCount",null!==(n=t.totalCount)&&void 0!==n?n:0)}},directives:[o.O5,y,o.sg,A,q],pipes:[o.H9,o.Zx],styles:[".category[_ngcontent-%COMP%]{width:200px}.action-button[_ngcontent-%COMP%]{margin-right:10px;color:#007bff!important;cursor:pointer}.action-button[_ngcontent-%COMP%]:last-child{margin-right:0}.delete[_ngcontent-%COMP%]{color:#007bff!important}"]}),e})()}];let S=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[r.Bz.forChild(C)],r.Bz]}),e})();var P=n(6263),O=n(2398);let N=(()=>{class e{}return e.\u0275fac=function(t){return new(t||e)},e.\u0275mod=p.oAB({type:e}),e.\u0275inj=p.cJS({imports:[[o.ez,P.m,S,O.I,a.u3.forRoot()]]}),e})()}}]);